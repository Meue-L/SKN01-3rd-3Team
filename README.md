# SKN01-3nd-3Team
### SK Networks Family AI Camp과정 3차 단위 프로젝트
<img src="img/sk_ai_camp.png"><br/><br/>



# 1. Introduction Team (팀 소개)
<img src="img/LMS_logo.png">

### 📢팀명: 에메레스(LMS-Language Models)<br/><br/>
### -팀원 소개-
### 👧🏻최민지: 팀장👑 | 👨🏻이민재: 에이스✨ | 🧒🏻이근: 팀원 | 🧑🏻‍🦱이재호: 팀원 | 🧑🏻이현석: 팀원<br/><br/><br/><br/>

# 2. Introduction Project (프로젝트 개요)
### ✅프로젝트 목표: 웹 어플리케이션 배포
### ✅프로젝트 소개: CI/CD 구축을 통해 웹 어플리케이션(FrontEnd + BackEnd + FastAPI) 배포 자동화 파이프라인 설계


### ✅프로젝트 필요성(배경)
### &emsp;&emsp; ✔️ 프로덕트 품질 향상 : CI/CD가 프로덕트 품질 향상에 무조건적으로 필요하다고 할 수는 없다. 하지만 CI/CD를 구축하면 배포 과정에서 자동화된 테스트를 통해 버그나 기타 문제를 빠르게 식별하여 대응할 수 있기 때문에 프로덕트의 품질을 높일 수 있다.
### &emsp;&emsp; ✔️ 생상성 향상: 프로젝트에서 ‘배포를 얼마나 빠르게 하느냐’는 생산성의 지표가 된다. 때문에 CI/CD를 통해 배포의 과정을 자동화하여 그 속도를 높이면 프로덕트 생산성이 자연스럽게 증대된다.
### &emsp;&emsp;✔️ 비용 절약: 배포를 위한 과정을 자동화하여 수동 작업을 줄이고 시간을 절약하여 많은 리소스들을 절약할 수 있다.
### &emsp;&emsp; ✔️업무 부담 감소: CI/CD같은 자동화 배포 프로세스가 설계되어 있지 않는다면 개발을 하면서 동시에 배포를 위한 과정도 겸해야한다. 이는 프로젝트를 진행하는 개발자에게 많은 부담이 된다. 때문에 CI/CD를 구축하여 개발자는 조금이라도 더 개발에만 집중할 수 있도록 업무 부담을 덜어낼 수 있다.<br/>

<img src="img/CI_CD.png"><br/><br/><br/>

<br/><br/>

# 3. ERD 구성
<img src="img/ERD.png"><br/><br/><br/><br/>

# 4. Backend 애자일 보드 - 요구 사항 정의서

### 👉🏻BACKEND(Django)
<img src="img/django_agileboard.png"><br/><br/><br/><br/>


# 5. Frontend 애자일 보드 - 화면 설계서

### 👉🏻FRONTEND(Vue)
<img src="img/vue_agileboard.png"><br/><br/><br/><br/>

# 6. FastAPI 애자일 보드 - AI 서빙 설계서

### 👉🏻AI CORE SERVER
<img src="img/fastapi_agileboard.png"><br/><br/><br/><br/>

# 7. 시스템 구성도
<img src="img/system.png"><br/><br/><br/><br/>



# 8. Manual Deploy (수동 배포 진행 절차)
## Frontend (UI)
## Backend (Server)
## FastAPI (AI Core Server)

<br/><br/><br/><br/>

# 9. Autonomous Deploy (자동 배포 진행 절차)
## Frontend (UI)
## Backend (Server)
## FastAPI (AI Core Server)

<br/><br/><br/><br/>

# 10. Result (수행 결과)
### 👉🏻CI/CD를 통해 배포 후 실제 서비스가 동작하는 모습 (HOME 화면)

<img src="img/home.png">
<img src="img/home2.png">
<img src="img/travel.png">


<br/><br/><br/><br/>

# 11. Tech Stack (기술 스택)
### FRONTEND
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"/> <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"/> <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"/> <img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white"/> <img src="https://img.shields.io/badge/vuetify-1867C0?style=for-the-badge&logo=vuetify&logoColor=white"> <img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white"> <img src="https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=Streamlit&logoColor=white">

### BACKEND
<img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white"/> <img src="https://img.shields.io/badge/django-092E20?style=for-the-badge&logo=django&logoColor=white"/> <img src="https://img.shields.io/badge/pandas-150458?style=for-the-badge&logo=pandas&logoColor=white">

### AI CORE
<img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=FastAPI&logoColor=white"> <img src="https://img.shields.io/badge/scikit-learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white">

### IDE
<img src="https://img.shields.io/badge/PyCharm-000000?style=for-the-badge&logo=PyCharm&logoColor=white"> <img src="https://img.shields.io/badge/Visual Studio-2196F3?style=for-the-badge&logo=Visual Studio&logoColor=white">

### COLLABORATION
<img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=white"> <img src="https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=Discord&logoColor=white"> <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"/> <img src="https://img.shields.io/badge/Notion-181717?style=for-the-badge&logo=Notion&logoColor=white"/> <img src="https://img.shields.io/badge/Gather-5865F2?style=for-the-badge&logo=Gather&logoColor=white"/>

### INFRA
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"/>
<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white">
<img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=white">
<img src="https://img.shields.io/badge/Redis-FF4438?style=for-the-badge&logo=Redis&logoColor=white">
<img src="https://img.shields.io/badge/Graphviz-000000?style=for-the-badge&logo=Graphviz&logoColor=white"> <img src="https://img.shields.io/badge/githubactions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white"> <img src="https://img.shields.io/badge/githubrunner-181717?style=for-the-badge&logo=github&logoColor=white"/><br/><br/><br/><br/>

# 12. 테스트 보고서 (CI 테스트 결과)
### 👉🏻FRONTEND CI테스트 결과
<img src="img/frontend_CI.png">

### 👉🏻BACKEND CI테스트 결과
<img src="img/backend_CI.png">

### 👉🏻CI테스트 결과 FRONTEND와 BACKEND 모두 이상 없이 통과하는 모습 확인
<br/><br/><br/><br/>

# 13. Deploy Issue (배포 이슈)
### 👉🏻1. Deploy to Production 단계에서 handshake failed 오류 발생
<img src="img/handshake_failed_error.png">

### 👉🏻해결
#### 원본 코드
```
- name: Deploy to Production
  uses: appleboy/ssh-action@v0.1.10
  with:
    host: ${{ secrets.HOST_IP }}
    username: ec2-user
    password: ${{ secrets.PRIVATE_KEY }}
    script_stop: true
    script: |
      pwd
      cd /home/ec2-user/lms/vue-frontend
      cp -r /home/ec2-user/lms/actions-frontend/dist/* ./html/

      docker image prune -f
      docker logout

      docker-compose up -d
```
#### password를 key로 설정하여 해결
```
- name: Deploy to Production
  uses: appleboy/ssh-action@v0.1.10
  with:
    host: ${{ secrets.HOST_IP }}
    username: ec2-user
    key: ${{ secrets.PRIVATE_KEY }}
    script_stop: true
    script: |
      pwd
      cd /home/ec2-user/lms/vue-frontend
      cp -r /home/ec2-user/lms/actions-frontend/dist/* ./html/

      docker image prune -f
      docker logout

      docker-compose up -d
```
<hr/>

### 👉🏻2. Github Actions에서 CI 진행 시 python version 인식이 불가능한 문제가 발생
#### 이와 같은 error 발생
```
Run actions/setup-python@v2
Version 3.1 was not found in the local cache
Error: Version 3.1 with arch x64 not found
The list of all available versions can be found here: https://raw.githubusercontent.com/actions/python-versions/main/versions-manifest.json
```
#### 아래와 같이 구성
```
- name: Set up Python
  uses: actions/setup-python@v2
  with:
    python-version: 3.10
```

### 👉🏻해결
#### 아래와 같이 버전을 좀 더 구체적으로 명시하여 문제 해결
```
- name: Set up Python
  uses: actions/setup-python@v2
  with:
    python-version: 3.10.5
```
<br/><br/><br/><br/>

# 14. 한 줄 회고
### 👧🏻최민지: AWS 서버상에서 프로젝트를 진행할 수 있는 좋은 경험이었습니다.
### 👨🏻이민재: 짧은 기간이었지만 너무 많은 요소들을 머리에 때려박느라 과부하가 올 것 같지만, 재밌었다.
### 🧒🏻이&nbsp;&nbsp;&nbsp;&nbsp;근: 
### 🧑🏻‍🦱이재호: GitHub Actions, GitHub Runner, Docker, AWS를 결합해 CI/CD 환경을 구축한 이번 프로젝트는 자동화된 배포 파이프라인의 혁신적인 효율성과 탁월한 안정성을 체감할 수 있는 소중한 경험이었습니다.
### 🧑🏻이현석: 프로젝트를 배포하여 실제로 사람들에게 서비스를 할 수 있게 되는 과정을 경험할 수 있는 좋은 기회였습니다.